!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(()=>(()=>{var t={226:t=>{!function(){"use strict";var e={event:"click",position:"bottom",horizontalOffset:0,verticalOffset:0,data:{}},n=!1,r=null,o="context-menu",i=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},s=function(t){var e=arguments.length;if(e<2||null===t)return t;for(var n=1;n<e;n++){var r=arguments[n];for(var o in r)t[o]=r[o]}return t},a=function(t){var e;return"undefined"!=typeof jQuery&&t instanceof jQuery?t:t instanceof HTMLElement?[t]:"string"==typeof(e=t)||e instanceof String?document.querySelectorAll(t):t instanceof NodeList?t:[]},c=function(t){if(t.stopPropagation(),t.preventDefault(),r=t.target,d(),r.ctxMenu){var e=l(r);document.body.appendChild(e),n=!0,setTimeout((function(){window.addEventListener("click",d),window.addEventListener("resize",d),window.addEventListener("scroll",d),e.style.visibility="visible",u(t,r,e)}),1)}},l=function(t){var e,n=document.createElement("div");for(e in n.className=o,n.style.visibility="hidden",n.style.display="inline-block",t.ctxMenu.menu){var r=t.ctxMenu.menu[e],s=document.createElement("div");s.ctxMenu={key:e,enabled:!!r.enabled},s.ctxMenu.enabled?s.className="context-menu-item":s.className="context-menu-item-disabled",s.innerHTML=r&&r.label?r.label:e,s.ctxMenu.enabled&&(i(r.onSelect)?s.ctxMenu.onSelect=r.onSelect:s.ctxMenu.onSelect=h,s.addEventListener(t.ctxMenu.event,(function(e){this.ctxMenu.onSelect(t,this.ctxMenu.key,s,t.ctxMenu.data),d()}))),r.title&&(s.title=r.title),n.appendChild(s)}return n},u=function(t,e,n){var r=0,o=0,i=e.getBoundingClientRect(),s=n.getBoundingClientRect(),a="click";e.ctxMenu&&e.ctxMenu.position&&(a=e.ctxMenu.position),"bottom"===a?(r=i.left+e.ctxMenu.horizontalOffset,o=i.bottom+e.ctxMenu.verticalOffset):"top"===a?(r=i.left+e.ctxMenu.horizontalOffset,o=i.top-s.height+e.ctxMenu.verticalOffset):"right"===a?(r=i.left+i.width+e.ctxMenu.horizontalOffset,o=i.top+e.ctxMenu.verticalOffset):"left"===a?(r=i.left-s.width+e.ctxMenu.horizontalOffset,o=i.top+e.ctxMenu.verticalOffset):(r=t.clientX+e.ctxMenu.horizontalOffset,o=t.clientY+e.ctxMenu.verticalOffset),r<0&&(r=e.ctxMenu.horizontalOffset>=0?e.ctxMenu.horizontalOffset:0),o<0&&(o=e.ctxMenu.verticalOffset>=0?e.ctxMenu.verticalOffset:0),r+s.width>document.body.clientWidth&&(r=e.ctxMenu.horizontalOffset>=0?document.body.clientWidth-s.width:document.body.clientWidth-s.width+e.ctxMenu.horizontalOffset),o+s.height>document.body.clientHeight&&(o=e.ctxMenu.verticalOffset>=0?document.body.clientHeight-s.height:document.body.clientHeight-s.height+e.ctxMenu.verticalOffset),n.style.left=r+"px",n.style.top=o+"px"},h=function(t,e,n){},d=function(){var t=0,e=document.getElementsByClassName(o);for(window.removeEventListener("click",d),window.removeEventListener("resize",d),window.removeEventListener("scroll",d),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);n=!1},p=function(t,e,n){var r=0,o=a(t);for(r=0;r<o.length;r++)o[r].ctxMenu.menu.hasOwnProperty(e)&&(o[r].ctxMenu.menu[e].enabled=n)},f=function(t){var e,n={type:"item",enabled:!0,label:"",onSelect:function(){},icon:"",title:""};for(e in t){var r=s({},n);t[e]?i(t[e])?t[e]=s(r,{label:e,onSelect:t[e]}):t[e]=s(r,t[e]):t[e]=s(r,{label:e})}return t},g={attach:function(t,n,r){var o=0;n=f(n);var i=s({menu:s({},n)},e,r),l=a(t);for(o=0;o<l.length;o++)l[o].ctxMenu=i,l[o].addEventListener(i.event,c)},display:function(t,n,r){n=f(s({},n));var o=s({menu:s({},n)},e,r);if(t instanceof Event)t.target.ctxMenu=o,c(t);else if("undefined"!=typeof jQuery&&t instanceof jQuery.Event)t.target.ctxMenu=o,c(t);else if(t instanceof HTMLElement){t.ctxMenu=o;var i=t.getBoundingClientRect(),a={target:t,clientX:i.left,clientY:i.top,stopPropagation:function(){},preventDefault:function(){}};c(a)}else console.log(t)},disable:function(t,e){p(t,e,!1)},enable:function(t,e){p(t,e,!0)},close:function(){d()},isOpen:function(){return n}};"function"==typeof window.define&&void 0!==window.define.amd?window.define("ContextMenu",[],(function(){return g})):void 0!==t.exports?t.exports=g:window.ContextMenu=g}()},281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([t.id,"div.context-menu {\r\n\tposition : fixed;\r\n\tborder: 1px solid #ccc;\r\n\tbackground-color: #eee;\r\n\tmin-width : 100px;\r\n\tpadding: 2px;\r\n\tbox-shadow : 2px 2px 4px #444;\r\n\tdisplay : inline-block;\r\n\tz-index : 10002;\r\n\tcursor : default;\r\n}\r\n\r\ndiv.context-menu>div {\r\n\tpadding : 5px 25px;\r\n\tfont-family: sans-serif;\r\n\tfont-size: 0.8em;\r\n}\r\n\r\ndiv.context-menu-item:hover {\r\n\tbackground-color : #c3d6ee;\r\n}\r\n\r\ndiv.context-menu-item-disabled {\r\n\tcolor : #aaa;\r\n}\r\n","",{version:3,sources:["webpack://./lib/contextmenu/contextmenu.css"],names:[],mappings:"AAAA;CACC,gBAAgB;CAChB,sBAAsB;CACtB,sBAAsB;CACtB,iBAAiB;CACjB,YAAY;CACZ,6BAA6B;CAC7B,sBAAsB;CACtB,eAAe;CACf,gBAAgB;AACjB;;AAEA;CACC,kBAAkB;CAClB,uBAAuB;CACvB,gBAAgB;AACjB;;AAEA;CACC,0BAA0B;AAC3B;;AAEA;CACC,YAAY;AACb",sourcesContent:["div.context-menu {\r\n\tposition : fixed;\r\n\tborder: 1px solid #ccc;\r\n\tbackground-color: #eee;\r\n\tmin-width : 100px;\r\n\tpadding: 2px;\r\n\tbox-shadow : 2px 2px 4px #444;\r\n\tdisplay : inline-block;\r\n\tz-index : 10002;\r\n\tcursor : default;\r\n}\r\n\r\ndiv.context-menu>div {\r\n\tpadding : 5px 25px;\r\n\tfont-family: sans-serif;\r\n\tfont-size: 0.8em;\r\n}\r\n\r\ndiv.context-menu-item:hover {\r\n\tbackground-color : #c3d6ee;\r\n}\r\n\r\ndiv.context-menu-item-disabled {\r\n\tcolor : #aaa;\r\n}\r\n"],sourceRoot:""}]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&s[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(s).concat([i]).join("\n")}return[e].join("\n")}},729:function(t,e){var n,r;void 0===(r="function"==typeof(n=function(){return function t(e,n,r){var o,i,s=window,a="application/octet-stream",c=r||a,l=e,u=!n&&!r&&l,h=document.createElement("a"),d=function(t){return String(t)},p=s.Blob||s.MozBlob||s.WebKitBlob||d,f=n||"download";if(p=p.call?p.bind(s):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],h.href=u,-1!==h.href.indexOf(u))){var g=new XMLHttpRequest;return g.open("GET",u,!0),g.responseType="blob",g.onload=function(e){t(e.target.response,f,a)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(y(l),f):w(l);c=(l=y(l)).type||a}else if(/([\x80-\xff])/.test(l)){for(var v=0,m=new Uint8Array(l.length),b=m.length;v<b;++v)m[v]=l.charCodeAt(v);l=new p([m],{type:c})}function y(t){for(var e=t.split(/[:;,]/),n=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=r.length,i=0,s=new Uint8Array(o);i<o;++i)s[i]=r.charCodeAt(i);return new p([s],{type:n})}function w(t,e){if("download"in h)return h.href=t,h.setAttribute("download",f),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout((function(){h.click(),document.body.removeChild(h),!0===e&&setTimeout((function(){s.URL.revokeObjectURL(h.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,a)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,a)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=l instanceof p?l:new p([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(s.URL)w(s.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===d)try{return w("data:"+c+";base64,"+s.btoa(o))}catch(t){return w("data:"+c+","+encodeURIComponent(o))}(i=new FileReader).onload=function(t){w(this.result)},i.readAsDataURL(o)}return!0}})?n.apply(e,[]):n)||(t.exports=r)},134:t=>{t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},363:t=>{!function(){function e(t,e){var n=r("div",null,"qs_label",e);return n.innerHTML=t,n}function n(t,e,n,o){var i=r("input",e,n,o);return i.type=t,i}function r(t,e,n,r){var o=document.createElement(t);if(o)return o.id=e,n&&(o.className=n),r&&r.appendChild(o),o}function o(){return-1!=navigator.userAgent.indexOf("rv:11")||-1!=navigator.userAgent.indexOf("MSIE")}var i=!1,s={_version:"2.1",_topZ:1,_panel:null,_titleBar:null,_content:null,_startX:0,_startY:0,_hidden:!1,_collapsed:!1,_controls:null,_keyCode:-1,_draggable:!0,_collapsible:!0,_globalChangeHandler:null,useExtStyleSheet:function(){i=!0},create:function(t,e,n,r){var o=Object.create(this);return o._init(t,e,n,r),o},destroy:function(){for(var t in this._panel.parentElement&&this._panel.parentElement.removeChild(this._panel),this)this[t]=null},_init:function(t,e,n,r){i||function(){var t=document.createElement("style");t.innerText=".qs_main{background-color:#dddddd;text-align:left;position:absolute;width:200px;font:12px sans-serif;box-shadow:5px 5px 8px rgba(0,0,0,0.35);user-select:none;-webkit-user-select:none;color:#000000;border:none}.qs_content{background-color:#cccccc;overflow-y:auto}.qs_title_bar{background-color:#eeeeee;user-select:none;-webkit-user-select:none;cursor:pointer;padding:5px;font-weight:bold;border:none;color:#000000}.qs_container{margin:5px;padding:5px;background-color:#eeeeee;border:none;position:relative}.qs_container_selected{border:none;background-color:#ffffff}.qs_range{-webkit-appearance:none;-moz-appearance:none;width:100%;height:17px;padding:0;margin:0;background-color:transparent;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_range:focus{outline:none;border:none}.qs_range::-webkit-slider-runnable-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-webkit-slider-runnable-track{background:#cccccc}.qs_range::-webkit-slider-thumb{-webkit-appearance:none;height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;margin-top:0}.qs_range::-moz-range-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range::-moz-range-thumb{height:15px;width:15px;border:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer}.qs_range::-ms-track{width:100%;height:15px;cursor:pointer;visibility:hidden;background:transparent}.qs_range::-ms-thumb{height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;border:none}.qs_range::-ms-fill-lower{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-lower{background:#cccccc}.qs_range::-ms-fill-upper{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-upper{background:#cccccc}.qs_button{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif}.qs_button:active{background-color:#ffffff;border:1px solid #aaaaaa}.qs_button:focus{border:1px solid #aaaaaa;outline:none}.qs_checkbox{cursor:pointer}.qs_checkbox input{position:absolute;left:-99999px}.qs_checkbox span{height:16px;width:100%;display:block;text-indent:20px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVQ4T2OcOXPmfwYKACPIgLS0NLKMmDVrFsOoAaNhMJoOGBioFwZkZUWoJgApdFaxjUM1YwAAAABJRU5ErkJggg==') no-repeat}.qs_checkbox input:checked+span{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T63Tyw2EIBAA0OFKBxBL40wDRovAUACcKc1IB1zZDAkG18GYZTmSmafzgTnnMgwchoDWGlJKheGcP3JtnPceCqCUAmttSZznuYtgchsXQrgC+77DNE0kUpPbmBOoJaBOIVQylnqWgAAeKhDve/AN+EaklJBzhhgjWRoJVGTbNjiOowAIret6a+4jYIwpX8aDwLIs74C2D0IIYIyVP6Gm898m9kbVm85ljHUTf16k4VUefkwDrxk+zoUEwCt0GbUAAAAASUVORK5CYII=') no-repeat}.qs_checkbox_label{position:absolute;top:7px;left:30px}.qs_label{margin-bottom:3px;user-select:none;-webkit-user-select:none;cursor:default;font:12px sans-serif}.qs_text_input{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0 0 0 5px;height:24px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_text_input:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_select{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAp0lEQVRIS+2SsQ3FIAwF7RVYhA5mgQFhFuhYhJKWL0eKxI8SGylKZ0p4+OBsHGNM+HChAiS7qkgyBKrovaLeOxhjbgtxZ+cFtgelFMg5QwgBvPd/EO5sDbKAlBLUWo/8CjmL075zDmKMj6rEKbpCqBL9aqc4ZUQAhVbInBMQUXz5Vg/WfxOktXZsWWtZLds9uIqlqaH1NFV3jdhSJA47E1CAaE8ViYp+wGiWMZ/T+cgAAAAASUVORK5CYII=') no-repeat right #f6f6f6;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#000000;width:100%;height:24px;border:1px solid #aaaaaa;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;padding:0 5px;-moz-outline:none;font-size:14px}.qs_select option{font-size:14px}.qs_select::-ms-expand{display:none}.qs_select:focus{outline:none}.qs_number{height:24px}.qs_image{width:100%}.qs_progress{width:100%;height:15px;background-color:#cccccc;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_progress_value{height:100%;background-color:#999999}.qs_textarea{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;resize:vertical;width:100%;padding:3px 5px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_textarea:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_color{position:absolute;left:-999999px}.qs_color_label{width:100%;height:20px;display:block;border:1px solid #aaaaaa;cursor:pointer;padding:0 0 0 5px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_file_chooser{position:absolute;left:-999999px}.qs_file_chooser_label{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif;width:100%;display:block;cursor:pointer;padding:7px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",document.head.appendChild(t),i=!0}(),this._bindHandlers(),this._createPanel(t,e,r),this._createTitleBar(n||"QuickSettings"),this._createContent()},_bindHandlers:function(){this._startDrag=this._startDrag.bind(this),this._drag=this._drag.bind(this),this._endDrag=this._endDrag.bind(this),this._doubleClickTitle=this._doubleClickTitle.bind(this),this._onKeyUp=this._onKeyUp.bind(this)},getValuesAsJSON:function(t){var e={};for(var n in this._controls)this._controls[n].getValue&&(e[n]=this._controls[n].getValue());return t&&(e=JSON.stringify(e)),e},setValuesFromJSON:function(t){for(var e in"string"==typeof t&&(t=JSON.parse(t)),t)this._controls[e].setValue&&this._controls[e].setValue(t[e]);return this},saveInLocalStorage:function(t){return this._localStorageName=t,this._readFromLocalStorage(t),this},clearLocalStorage:function(t){return localStorage.removeItem(t),this},_saveInLocalStorage:function(t){localStorage.setItem(t,this.getValuesAsJSON(!0))},_readFromLocalStorage:function(t){var e=localStorage.getItem(t);e&&this.setValuesFromJSON(e)},_createPanel:function(t,e,n){this._panel=r("div",null,"qs_main",n||document.body),this._panel.style.zIndex=++s._topZ,this.setPosition(t||0,e||0),this._controls={}},_createTitleBar:function(t){this._titleBar=r("div",null,"qs_title_bar",this._panel),this._titleBar.textContent=t,this._titleBar.addEventListener("mousedown",this._startDrag),this._titleBar.addEventListener("dblclick",this._doubleClickTitle)},_createContent:function(){this._content=r("div",null,"qs_content",this._panel)},_createContainer:function(){var t=r("div",null,"qs_container");return t.addEventListener("focus",(function(){this.className+=" qs_container_selected"}),!0),t.addEventListener("blur",(function(){var t=this.className.indexOf(" qs_container_selected");t>-1&&(this.className=this.className.substr(0,t))}),!0),this._content.appendChild(t),t},setPosition:function(t,e){return this._panel.style.left=t+"px",this._panel.style.top=Math.max(e,0)+"px",this},setSize:function(t,e){return this._panel.style.width=t+"px",this._content.style.width=t+"px",this._content.style.height=e-this._titleBar.offsetHeight+"px",this},setWidth:function(t){return this._panel.style.width=t+"px",this._content.style.width=t+"px",this},setHeight:function(t){return this._content.style.height=t-this._titleBar.offsetHeight+"px",this},setDraggable:function(t){return this._draggable=t,this._draggable||this._collapsible?this._titleBar.style.cursor="pointer":this._titleBar.style.cursor="default",this},_startDrag:function(t){this._draggable&&(this._panel.style.zIndex=++s._topZ,document.addEventListener("mousemove",this._drag),document.addEventListener("mouseup",this._endDrag),this._startX=t.clientX,this._startY=t.clientY),t.preventDefault()},_drag:function(t){var e=parseInt(this._panel.style.left),n=parseInt(this._panel.style.top),r=t.clientX,o=t.clientY;this.setPosition(e+r-this._startX,n+o-this._startY),this._startX=r,this._startY=o,t.preventDefault()},_endDrag:function(t){document.removeEventListener("mousemove",this._drag),document.removeEventListener("mouseup",this._endDrag),t.preventDefault()},setGlobalChangeHandler:function(t){return this._globalChangeHandler=t,this},_callGCH:function(){this._localStorageName&&this._saveInLocalStorage(this._localStorageName),this._globalChangeHandler&&this._globalChangeHandler()},hide:function(){return this._panel.style.visibility="hidden",this._hidden=!0,this},show:function(){return this._panel.style.visibility="visible",this._panel.style.zIndex=++s._topZ,this._hidden=!1,this},toggleVisibility:function(){return this._hidden?this.show():this.hide(),this},setCollapsible:function(t){return this._collapsible=t,this._draggable||this._collapsible?this._titleBar.style.cursor="pointer":this._titleBar.style.cursor="default",this},collapse:function(){return this._panel.removeChild(this._content),this._collapsed=!0,this},expand:function(){return this._panel.appendChild(this._content),this._collapsed=!1,this},toggleCollapsed:function(){return this._collapsed?this.expand():this.collapse(),this},setKey:function(t){return this._keyCode=t.toUpperCase().charCodeAt(0),document.body.addEventListener("keyup",this.onKeyUp),this},_onKeyUp:function(t){t.keyCode===this._keyCode&&this.toggleVisibility()},_doubleClickTitle:function(){this._collapsible&&this.toggleCollapsed()},removeControl:function(t){if(this._controls[t])var e=this._controls[t].container;return e&&e.parentElement&&e.parentElement.removeChild(e),this._controls[t]=null,this},enableControl:function(t){return this._controls[t]&&(this._controls[t].control.disabled=!1),this},disableControl:function(t){return this._controls[t]&&(this._controls[t].control.disabled=!0),this},hideControl:function(t){return this._controls[t]&&(this._controls[t].container.style.display="none"),this},showControl:function(t){return this._controls[t]&&(this._controls[t].container.style.display="block"),this},overrideStyle:function(t,e,n){return this._controls[t]&&(this._controls[t].control.style[e]=n),this},hideTitle:function(t){var e=this._controls[t].label;return e&&(e.style.display="none"),this},showTitle:function(t){var e=this._controls[t].label;return e&&(e.style.display="block"),this},hideAllTitles:function(){for(var t in this._controls){var e=this._controls[t].label;e&&(e.style.display="none")}return this},showAllTitles:function(){for(var t in this._controls){var e=this._controls[t].label;e&&(e.style.display="block")}return this},getValue:function(t){return this._controls[t].getValue()},setValue:function(t,e){return this._controls[t].setValue(e),this._callGCH(),this},addBoolean:function(t,e,o){var i=this._createContainer(),s=r("label",null,"qs_checkbox_label",i);s.textContent=t,s.setAttribute("for",t);var a=r("label",null,"qs_checkbox",i);a.setAttribute("for",t);var c=n("checkbox",t,null,a);c.checked=e,r("span",null,null,a),this._controls[t]={container:i,control:c,getValue:function(){return this.control.checked},setValue:function(t){this.control.checked=t,o&&o(t)}};var l=this;return c.addEventListener("change",(function(){o&&o(c.checked),l._callGCH()})),this},bindBoolean:function(t,e,n){return this.addBoolean(t,e,(function(e){n[t]=e}))},addButton:function(t,e){var r=this._createContainer(),o=n("button",t,"qs_button",r);o.value=t,this._controls[t]={container:r,control:o};var i=this;return o.addEventListener("click",(function(){e&&e(o),i._callGCH()})),this},addColor:function(t,i,s){if(function(){var t=navigator.userAgent.toLowerCase();return!(t.indexOf("chrome")>-1||t.indexOf("firefox")>-1||t.indexOf("epiphany")>-1)&&t.indexOf("safari/")>-1}()||navigator.userAgent.toLowerCase().indexOf("edge")>-1||o())return this.addText(t,i,s);var a=this._createContainer(),c=e("<b>"+t+":</b> "+i,a),l=n("color",t,"qs_color",a);l.value=i||"#ff0000";var u=r("label",null,"qs_color_label",a);u.setAttribute("for",t),u.style.backgroundColor=l.value,this._controls[t]={container:a,control:l,colorLabel:u,label:c,title:t,getValue:function(){return this.control.value},setValue:function(t){this.control.value=t,this.colorLabel.style.backgroundColor=l.value,this.label.innerHTML="<b>"+this.title+":</b> "+this.control.value,s&&s(t)}};var h=this;return l.addEventListener("input",(function(){c.innerHTML="<b>"+t+":</b> "+l.value,u.style.backgroundColor=l.value,s&&s(l.value),h._callGCH()})),this},bindColor:function(t,e,n){return this.addColor(t,e,(function(e){n[t]=e}))},addDate:function(t,r,i){var s;if(r instanceof Date){var a=r.getFullYear(),c=r.getMonth()+1;c<10&&(c="0"+c),s=a+"-"+c+"-"+r.getDate()}else s=r;if(o())return this.addText(t,s,i);var l=this._createContainer(),u=e("<b>"+t+"</b>",l),h=n("date",t,"qs_text_input",l);h.value=s||"",this._controls[t]={container:l,control:h,label:u,getValue:function(){return this.control.value},setValue:function(t){var e;if(t instanceof Date){var n=t.getFullYear(),r=t.getMonth()+1;r<10&&(r="0"+r);var o=t.getDate();o<10&&(o="0"+o),e=n+"-"+r+"-"+o}else e=t;this.control.value=e||"",i&&i(e)}};var d=this;return h.addEventListener("input",(function(){i&&i(h.value),d._callGCH()})),this},bindDate:function(t,e,n){return this.addDate(t,e,(function(e){n[t]=e}))},addDropDown:function(t,n,o){for(var i=this._createContainer(),s=e("<b>"+t+"</b>",i),a=r("select",null,"qs_select",i),c=0;c<n.length;c++){var l=r("option");l.label=n[c],l.innerText=n[c],a.add(l)}var u=this;return a.addEventListener("change",(function(){var t=a.selectedIndex,e=a.options;o&&o({index:t,value:e[t].label}),u._callGCH()})),this._controls[t]={container:i,control:a,label:s,getValue:function(){var t=this.control.selectedIndex;return{index:t,value:this.control.options[t].label}},setValue:function(t){var e;e=null!=t.index?t.index:t;var n=this.control.options;this.control.selectedIndex=e,o&&o({index:e,value:n[e].label})}},this},bindDropDown:function(t,e,n){return this.addDropDown(t,e,(function(e){n[t]=e.value}))},addElement:function(t,n){var r=this._createContainer(),o=e("<b>"+t+"</b>",r);return r.appendChild(n),this._controls[t]={container:r,label:o},this},addFileChooser:function(t,o,i,s){var a=this._createContainer(),c=e("<b>"+t+"</b>",a),l=n("file",t,"qs_file_chooser",a);i&&(l.accept=i);var u=r("label",null,"qs_file_chooser_label",a);u.setAttribute("for",t),u.textContent=o||"Choose a file...",this._controls[t]={container:a,control:l,label:c,getValue:function(){return this.control.files[0]}};var h=this;return l.addEventListener("change",(function(){l.files&&l.files.length&&(u.textContent=l.files[0].name,s&&s(l.files[0]),h._callGCH())})),this},addHTML:function(t,n){var o=this._createContainer(),i=e("<b>"+t+":</b> ",o),s=r("div",null,null,o);return s.innerHTML=n,this._controls[t]={label:i,control:s,getValue:function(){return this.control.innerHTML},setValue:function(t){this.control.innerHTML=t}},this},addImage:function(t,n){var o=this._createContainer(),i=e("<b>"+t+"</b>",o);return img=r("img",null,"qs_image",o),img.src=n,this._controls[t]={container:o,control:img,label:i,getValue:function(){return this.control.src},setValue:function(t){this.control.src=t}},this},addRange:function(t,e,n,r,o,i){return this._addNumber("range",t,e,n,r,o,i)},addNumber:function(t,e,n,r,o,i){return this._addNumber("number",t,e,n,r,o,i)},_addNumber:function(t,r,i,s,a,c,l){var u=this._createContainer(),h=e("",u),d=n(t,r,"range"===t?"qs_range":"qs_text_input qs_number",u);d.min=i||0,d.max=s||100,d.step=c||1,d.value=a||0,h.innerHTML="<b>"+r+":</b> "+d.value,this._controls[r]={container:u,control:d,label:h,title:r,callback:l,getValue:function(){return parseFloat(this.control.value)},setValue:function(t){this.control.value=t,this.label.innerHTML="<b>"+this.title+":</b> "+this.control.value,l&&l(parseFloat(t))}};var p="input";"range"===t&&o()&&(p="change");var f=this;return d.addEventListener(p,(function(){h.innerHTML="<b>"+r+":</b> "+d.value,l&&l(parseFloat(d.value)),f._callGCH()})),this},bindRange:function(t,e,n,r,o,i){return this.addRange(t,e,n,r,o,(function(e){i[t]=e}))},bindNumber:function(t,e,n,r,o,i){return this.addNumber(t,e,n,r,o,(function(e){i[t]=e}))},setRangeParameters:function(t,e,n,r){return this.setNumberParameters(t,e,n,r)},setNumberParameters:function(t,e,n,r){var o=this._controls[t],i=o.control.value;return o.control.min=e,o.control.max=n,o.control.step=r,o.control.value!==i&&o.callback&&o.callback(o.control.value),this},addPassword:function(t,e,n){return this._addText("password",t,e,n)},bindPassword:function(t,e,n){return this.addPassword(t,e,(function(e){n[t]=e}))},addProgressBar:function(t,n,o,i){var s=this._createContainer(),a=e("",s),c=r("div",null,"qs_progress",s),l=r("div",null,"qs_progress_value",c);return l.style.width=o/n*100+"%",a.innerHTML="numbers"===i?"<b>"+t+":</b> "+o+" / "+n:"percent"===i?"<b>"+t+":</b> "+Math.round(o/n*100)+"%":"<b>"+t+"</b>",this._controls[t]={container:s,control:c,valueDiv:l,valueDisplay:i,label:a,value:o,max:n,title:t,getValue:function(){return this.value},setValue:function(t){this.value=Math.max(0,Math.min(t,this.max)),this.valueDiv.style.width=this.value/this.max*100+"%","numbers"===this.valueDisplay?this.label.innerHTML="<b>"+this.title+":</b> "+this.value+" / "+this.max:"percent"===this.valueDisplay&&(this.label.innerHTML="<b>"+this.title+":</b> "+Math.round(this.value/this.max*100)+"%")}},this},setProgressMax:function(t,e){var n=this._controls[t];return n.max=e,n.value=Math.min(n.value,n.max),n.valueDiv.style.width=n.value/n.max*100+"%","numbers"===n.valueDisplay?n.label.innerHTML="<b>"+n.title+":</b> "+n.value+" / "+n.max:"percent"===n.valueDisplay?n.label.innerHTML="<b>"+n.title+":</b> "+Math.round(n.value/n.max*100)+"%":n.label.innerHTML="<b>"+n.title+"</b>",this},addText:function(t,e,n){return this._addText("text",t,e,n)},_addText:function(t,o,i,s){var a,c=this._createContainer(),l=e("<b>"+o+"</b>",c);"textarea"===t?(a=r("textarea",o,"qs_textarea",c)).rows=5:a=n(t,o,"qs_text_input",c),a.value=i||"",this._controls[o]={container:c,control:a,label:l,getValue:function(){return this.control.value},setValue:function(t){this.control.value=t,s&&s(t)}};var u=this;return a.addEventListener("input",(function(){s&&s(a.value),u._callGCH()})),this},bindText:function(t,e,n){return this.addText(t,e,(function(e){n[t]=e}))},addTextArea:function(t,e,n){return this._addText("textarea",t,e,n)},setTextAreaRows:function(t,e){return this._controls[t].control.rows=e,this},bindTextArea:function(t,e,n){return this.addTextArea(t,e,(function(e){n[t]=e}))},addTime:function(t,r,i){var s;if(r instanceof Date){var a=r.getHours();a<10&&(a="0"+a);var c=r.getMinutes();c<10&&(c="0"+c);var l=r.getSeconds();l<10&&(l="0"+l),s=a+":"+c+":"+l}else s=r;if(o())return this.addText(t,s,i);var u=this._createContainer(),h=e("<b>"+t+"</b>",u),d=n("time",t,"qs_text_input",u);d.value=s||"",this._controls[t]={container:u,control:d,label:h,getValue:function(){return this.control.value},setValue:function(t){var e;if(t instanceof Date){var n=t.getHours();n<10&&(n="0"+n);var r=t.getMinutes();r<10&&(r="0"+r);var o=t.getSeconds();o<10&&(o="0"+o),e=n+":"+r+":"+o}else e=t;this.control.value=e||"",i&&i(e)}};var p=this;return d.addEventListener("input",(function(){i&&i(d.value),p._callGCH()})),this},bindTime:function(t,e,n){return this.addTime(t,e,(function(e){n[t]=e}))}};t.exports=s}()},666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,s=Object.create(i.prototype),a=new M(r||[]);return o(s,"_invoke",{value:C(t,n,a)}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",p="executing",f="completed",g={};function v(){}function m(){}function b(){}var y={};l(y,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,s)&&(y=x);var A=b.prototype=v.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,s,a){var c=h(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(u).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(t,e,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=h(t,e,n);if("normal"===c.type){if(r=n.done?f:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:e,done:!0}}return m.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},_(k.prototype),l(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(A),l(A,c,"Generator"),l(A,s,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},72:function(t,e,n){var r,o;r=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var r,o=document.createElement("a"),i=1;i<t;i++)o.href=arguments[i],r=o.href,e.href=r;return n.removeChild(e),r}},void 0===(o=r.call(e,n,e,t))||(t.exports=o)},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},s=[],a=0;a<t.length;a++){var c=t[a],l=r.base?c[0]+r.base:c[0],u=i[l]||0,h="".concat(l," ").concat(u);i[l]=u+1;var d=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=o(p,r);r.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=n(i[s]);e[a].references--}for(var c=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},181:(t,e,n)=>{const r=n(158);t.exports={recognize:async(t,e,n)=>{const o=r(n);return await o.load(),await o.loadLanguage(e),await o.initialize(e),o.recognize(t).finally((async()=>{await o.terminate()}))},detect:async(t,e)=>{const n=r(e);return await n.load(),await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(t).finally((async()=>{await n.terminate()}))}}},308:t=>{t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},895:t=>{t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},154:(t,e,n)=>{const r=n(308);t.exports={defaultOEM:r.DEFAULT}},720:t=>{t.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},520:t=>{t.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},949:(t,e,n)=>{const r=n(504);let o=0;t.exports=({id:t,action:e,payload:n={}})=>{let i=t;return void 0===i&&(i=r("Job",o),o+=1),{id:i,action:e,payload:n}}},877:function(t,e,n){const r=n(949),{log:o}=n(486),i=n(504);let s=0;t.exports=()=>{const t=i("Scheduler",s),e={},n={};let a=[];s+=1;const c=()=>Object.keys(e).length,l=()=>{if(0!==a.length){const t=Object.keys(e);for(let r=0;r<t.length;r+=1)if(void 0===n[t[r]]){a[0](e[t[r]]);break}}},u=(e,i)=>new Promise(((s,c)=>{const u=r({action:e,payload:i});a.push((async t=>{a.shift(),n[t.id]=u;try{s(await t[e].apply(this,[...i,u.id]))}catch(t){c(t)}finally{delete n[t.id],l()}})),o(`[${t}]: Add ${u.id} to JobQueue`),o(`[${t}]: JobQueue length=${a.length}`),l()}));return{addWorker:n=>(e[n.id]=n,o(`[${t}]: Add ${n.id}`),o(`[${t}]: Number of workers=${c()}`),l(),n.id),addJob:async(e,...n)=>{if(0===c())throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return u(e,n)},terminate:async()=>{Object.keys(e).forEach((async t=>{await e[t].terminate()})),a=[]},getQueueLen:()=>a.length,getNumWorkers:c}}},158:(t,e,n)=>{const r=n(937),o=n(634),i=n(949),{log:s}=n(486),a=n(504),{defaultOEM:c}=n(154),{defaultOptions:l,spawnWorker:u,terminateWorker:h,onMessage:d,loadImage:p,send:f}=n(791);let g=0;t.exports=(t={})=>{const e=a("Worker",g),{logger:n,errorHandler:v,...m}=r({...l,...t}),b={},y={};let w=u(m);g+=1;const x=(t,e)=>{b[t]=e},A=(t,e)=>{y[t]=e},_=({id:t,action:n,payload:r})=>new Promise(((o,i)=>{s(`[${e}]: Start ${t}, action=${n}`),x(n,o),A(n,i),f(w,{workerId:e,jobId:t,action:n,payload:r})}));return d(w,(({workerId:t,jobId:e,status:r,action:i,data:a})=>{if("resolve"===r){s(`[${t}]: Complete ${e}`);let n=a;"recognize"===i?n=o(a):"getPDF"===i&&(n=Array.from({...a,length:Object.keys(a).length})),b[i]({jobId:e,data:n})}else if("reject"===r){if(y[i](a),!v)throw Error(a);v(a)}else"progress"===r&&n({...a,userJobId:e})})),{id:e,worker:w,setResolve:x,setReject:A,load:t=>_(i({id:t,action:"load",payload:{options:m}})),writeText:(t,e,n)=>_(i({id:n,action:"FS",payload:{method:"writeFile",args:[t,e]}})),readText:(t,e)=>_(i({id:e,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),removeFile:(t,e)=>_(i({id:e,action:"FS",payload:{method:"unlink",args:[t]}})),FS:(t,e,n)=>_(i({id:n,action:"FS",payload:{method:t,args:e}})),loadLanguage:(t="eng",e)=>_(i({id:e,action:"loadLanguage",payload:{langs:t,options:m}})),initialize:(t="eng",e=c,n)=>_(i({id:n,action:"initialize",payload:{langs:t,oem:e}})),setParameters:(t={},e)=>_(i({id:e,action:"setParameters",payload:{params:t}})),recognize:async(t,e={},n)=>_(i({id:n,action:"recognize",payload:{image:await p(t),options:e}})),getPDF:(t="Tesseract OCR Result",e=!1,n)=>_(i({id:n,action:"getPDF",payload:{title:t,textonly:e}})),detect:async(t,e)=>_(i({id:e,action:"detect",payload:{image:await p(t)}})),terminate:async()=>(null!==w&&(h(w),w=null),Promise.resolve())}}},320:(t,e,n)=>{n(666);const r=n(877),o=n(158),i=n(181),s=n(520),a=n(308),c=n(895),{setLogging:l}=n(486);t.exports={languages:s,OEM:a,PSM:c,createScheduler:r,createWorker:o,setLogging:l,...i}},634:t=>{t.exports=t=>{const e=[],n=[],r=[],o=[],i=[];return t.blocks.forEach((s=>{s.paragraphs.forEach((e=>{e.lines.forEach((n=>{n.words.forEach((r=>{r.symbols.forEach((o=>{i.push({...o,page:t,block:s,paragraph:e,line:n,word:r})})),o.push({...r,page:t,block:s,paragraph:e,line:n})})),r.push({...n,page:t,block:s,paragraph:e})})),n.push({...e,page:t,block:s})})),e.push({...s,page:t})})),{...t,blocks:e,paragraphs:n,lines:r,words:o,symbols:i}}},376:(t,e,n)=>{const r=n(134);t.exports=t=>{const e={};return"undefined"!=typeof WorkerGlobalScope?e.type="webworker":r()?e.type="electron":"object"==typeof window?e.type="browser":"object"==typeof process&&(e.type="node"),void 0===t?e:e[t]}},504:t=>{t.exports=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`},486:function(t,e){let n=!1;e.logging=n,e.setLogging=t=>{n=t},e.log=(...t)=>n?console.log.apply(this,t):null},937:(t,e,n)=>{const r="browser"===n(376)("type")?n(72):t=>t;t.exports=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach((n=>{t[n]&&(e[n]=r(e[n]))})),e}},40:(t,e,n)=>{const r=n(72),{version:o}=n(547),i=n(720);t.exports={...i,workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?r(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${o}/dist/worker.min.js`,corePath:null}},791:(t,e,n)=>{const r=n(40),o=n(5),i=n(25),s=n(804),a=n(247),c=n(196);t.exports={defaultOptions:r,spawnWorker:o,terminateWorker:i,onMessage:s,send:a,loadImage:c}},196:(t,e,n)=>{const r=n(72),o=t=>new Promise(((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:t}}})=>{n(Error(`File could not be read! Code=${t}`))},r.readAsArrayBuffer(t)})),i=async t=>{let e=t;if(void 0===t)return"undefined";if("string"==typeof t)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t))e=atob(t.split(",")[1]).split("").map((t=>t.charCodeAt(0)));else{const n=await fetch(r(t));e=await n.arrayBuffer()}else t instanceof HTMLElement?("IMG"===t.tagName&&(e=await i(t.src)),"VIDEO"===t.tagName&&(e=await i(t.poster)),"CANVAS"===t.tagName&&await new Promise((n=>{t.toBlob((async t=>{e=await o(t),n()}))}))):(t instanceof File||t instanceof Blob)&&(e=await o(t));return new Uint8Array(e)};t.exports=i},804:t=>{t.exports=(t,e)=>{t.onmessage=({data:t})=>{e(t)}}},247:t=>{t.exports=async(t,e)=>{t.postMessage(e)}},5:t=>{t.exports=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const e=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(e))}else n=new Worker(t);return n}},25:t=>{t.exports=t=>{t.terminate()}},307:(t,e,n)=>{var r;!function(){"use strict";var o=function(){var t,e,n=[],r=-1,o=0,i=!1;return e=function(t,e){return t&&"function"==typeof t[e]?(i=!0,t[e](),i=!1,this):this},{add:function(e){return i||(n.splice(r+1,n.length-r),n.push(e),o&&n.length>o&&(0,a=-(o+1),(s=n).splice(0,!a||1+a-0+(!(a<0^!0)&&(a<0||-1)*s.length)),s.length),r=n.length-1,t&&t()),this;var s,a},setCallback:function(e){t=e},undo:function(){var o=n[r];return o?(e(o,"undo"),r-=1,t&&t(),this):this},redo:function(){var o=n[r+1];return o?(e(o,"redo"),r+=1,t&&t(),this):this},clear:function(){var e=n.length;n=[],r=-1,t&&e>0&&t()},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getIndex:function(){return r},setLimit:function(t){o=t}}};void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},547:t=>{"use strict";t.exports=JSON.parse('{"_from":"tesseract.js","_id":"tesseract.js@3.0.3","_inBundle":false,"_integrity":"sha512-eZ1+OGWvF5IMExAzIwnDf3S3kf2FeC+i4qrMTRvBSlZeHc3ONy0vCmaKmBQz6scjB6C1W2w2x0r4lCEh95qBnw==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"tesseract.js","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-3.0.3.tgz","_shasum":"18d754c5502677361a25e771199f118aac5ef1ff","_spec":"tesseract.js","_where":"D:\\\\MyCodes\\\\image-map-creator","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"bundleDependencies":false,"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"babel-eslint":"^10.1.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^3.0.2","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"deprecated":false,"description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.18.7","@babel/preset-env":"^7.18.7","@rollup/plugin-commonjs":"^22.0.2","acorn":"^6.4.0","babel-loader":"^8.2.0","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^8.1.3","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^2.7.1","rollup":"^2.79.0","wait-on":"^3.3.0","webpack":"^5.74.0","webpack-bundle-analyzer":"^4.6.0","webpack-cli":"^4.10.0","webpack-dev-middleware":"^5.3.3"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.js","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"3.0.3"}')},147:t=>{"use strict";t.exports={i8:"1.1.12"}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function t(t,e){return parseFloat(t.toFixed(e))}n.r(r),n.d(r,{Save:()=>R,imageMapCreator:()=>H});var e,o=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return e.prototype.set=function(t,e){return this.x=t,this.y=e,this},e.fromObject=function(t){return new e(t.x,t.y)},e.dist=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},e.swap=function(t,e,n){var r=t[n];t[n]=e[n],e[n]=r},e.prototype.isEmpty=function(){return!this.x&&!this.y},e.prototype.oneIsEmpty=function(){return!this.x||!this.y},e.prototype.sum=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.diff=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.move=function(t){this.add(t)},e.prototype.getPosition=function(){return this},e.prototype.setPosition=function(t){return this.set(t.x,t.y),this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.invert=function(){return new e(-this.x,-this.y)},e.prototype.toStr=function(e,n,r){return t(this[n]*r,e).toString()},e.prototype.toHtml=function(t,e){return void 0===e&&(e=1),this.toStr(t,"x",e)+","+this.toStr(t,"y",e)},e}(),i=(e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),s=function(){function t(t,e,n,r,o){void 0===e&&(e=[]),void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o=0),this.shape=t,this.coords=e,this.href=n,this.title=r,this.id=o}return t.fromObject=function(t){switch(t.shape){case"rect":var e=t;return new u(e.coords.map(o.fromObject),e.href,e.title,e.id);case"circle":var n=t;return new c(n.coords.map(o.fromObject),n.radius,n.href,n.title,n.id);case"poly":var r=t;return new l(r.coords.map(o.fromObject),r.href,r.title,r.id,r.closed);case"default":var i=t;return new h(i.iMap,i.href,i.title);default:throw"Not an area"}},t.prototype.getId=function(){return this.id},t.prototype.setShape=function(t){return this.shape=t,this},t.prototype.getShape=function(){return this.shape},t.prototype.addCoord=function(t){return this.coords.push(t)},t.prototype.setCoords=function(t){return this.coords=t,this},t.prototype.getCoords=function(){return this.coords},t.prototype.drawingCoords=function(){return this.coords.slice()},t.prototype.getPoints=function(){return this.coords},t.prototype.isEmpty=function(){return 0==this.coords.length},t.prototype.equals=function(t){return this.id==t.id},t.prototype.copyCoords=function(){var t=[];return this.coords.forEach((function(e,n){t[n]=new o(e.x,e.y)})),t},t.prototype.updateLastCoord=function(t){return this.coords[this.coords.length-1]=t,this},t.prototype.move=function(t){var e=this.firstCoord();null!=t&&e.add(t)},t.prototype.getPosition=function(){return this.firstCoord()},t.prototype.setPosition=function(t){var e=this.coords[0].diff(t);this.move(e)},t.prototype.isValidShape=function(){return this.isDrawable()},t.prototype.isOverPoint=function(t,e){return this.getPoints().find((function(n){return o.dist(t,n)<e}))||!1},t.prototype.setHref=function(t){return this.href=t,this},t.prototype.getHref=function(){return this.href},t.prototype.getHrefVerbose=function(){return""===this.href?"undefined":this.href},t.prototype.setTitle=function(t){return this.title=t,this},t.prototype.getTitle=function(){return this.title},t.prototype.setId=function(t){return this.id=t,this},t.prototype.firstCoord=function(){return this.coords[0]},t.prototype.htmlCoords=function(t,e){return this.drawingCoords().map((function(n){return n.toHtml(t,e)})).join(",")},t.prototype.toHtml=function(t){void 0===t&&(t=1);var e=this.htmlCoords(0,t);e=e?'coords="'.concat(e,'"'):"";var n=this.href?'href="'.concat(this.href,'"'):"nohref",r=this.title?'title="'.concat(this.title,'"'):"";return'<area shape="'.concat(this.shape,'" ').concat(e," ").concat(n,' alt="').concat(this.href,'" ').concat(r," />")},t.prototype.toSvg=function(t){return void 0===t&&(t=1),'<a xlink:href="'.concat(this.href,'">').concat(this.svgArea(t),"</a>")},t}(),a=function(t){function e(){return t.call(this,"empty")||this}return i(e,t),e.prototype.isDrawable=function(){return!1},e.prototype.svgArea=function(t){return""},e.prototype.isOver=function(t){return!1},e.prototype.display=function(t){},e}(s),c=function(e){function n(t,n,r,o,i){void 0===t&&(t=[]),void 0===n&&(n=0),void 0===r&&(r=""),void 0===o&&(o=""),void 0===i&&(i=0);var s=e.call(this,"circle",t,r,o,i)||this;return s.radius=n,s}return i(n,e),n.prototype.getCenter=function(){return this.firstCoord()},n.prototype.isValidShape=function(){return e.prototype.isValidShape.call(this)&&this.radius>0},n.prototype.isDrawable=function(){return 1==this.coords.length},n.prototype.isOver=function(t){var e=this.getCenter();return o.dist(t,e)<this.radius},n.prototype.updateLastCoord=function(t){var e=this.getCenter();return this.radius=o.dist(e,t),this},n.prototype.display=function(t){t.ellipse(this.getCenter().x,this.getCenter().y,2*this.radius)},n.prototype.htmlCoords=function(e,n){return this.getCenter().toHtml(e,n)+","+t(this.radius,e)},n.prototype.svgArea=function(e){var n=this.coords[0].toStr(0,"x",e),r=this.coords[0].toStr(0,"y",e),o=t(this.radius,0);return'<circle cx="'.concat(n,'" cy="').concat(r,'" r="').concat(o,'" />')},n}(s),l=function(t){function e(e,n,r,o,i){void 0===e&&(e=[]),void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o=0),void 0===i&&(i=!1);var s=t.call(this,"poly",e,n,r,o)||this;return s.closed=i,s}return i(e,t),e.prototype.isDrawable=function(){return this.coords.length>=2},e.prototype.isValidShape=function(){return t.prototype.isValidShape.call(this)&&this.closed},e.prototype.isOver=function(t){var e,n=t.x,r=t.y,o=this.coords.map((function(t){return t.x})),i=this.coords.map((function(t){return t.y})),s=o.length-1,a=0,c=o,l=i;for(e=0;e<o.length;e++)(l[e]<r&&l[s]>=r||l[s]<r&&l[e]>=r)&&(c[e]<=n||c[s]<=n)&&(a^=c[e]+(r-l[e])/(l[s]-l[e])*(c[s]-c[e])<n?1:0),s=e;return Boolean(a)},e.prototype.isClosable=function(t,e){var n=o.dist(t,this.firstCoord());return this.coords.length>=4&&n<e},e.prototype.drawingCoords=function(){var e=t.prototype.drawingCoords.call(this);return this.closed&&e.push(this.firstCoord()),e},e.prototype.close=function(){return this.closed=!0,this.coords.pop(),this},e.prototype.move=function(t){this.coords.map((function(e){return e.add(t)}))},e.prototype.display=function(t){t.beginShape(),this.drawingCoords().forEach((function(e){return t.vertex(e.x,e.y)})),t.endShape()},e.prototype.svgArea=function(t){var e=this.drawingCoords().map((function(e){return e.toStr(0,"x",t)+","+e.toStr(0,"y",t)})).join(" ");return'<polygon points="'.concat(e,'" />')},e}(s),u=function(t){function e(e,n,r,o){void 0===e&&(e=[]),void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o=0);var i=t.call(this,e,n,r,o,!0)||this;if(i.coords.length>0&&i.coords.length<4){var s=i.firstCoord();i.coords=[s,s.clone(),s.clone(),s.clone()]}return i}return i(e,t),e.prototype.isValidShape=function(){return t.prototype.isValidShape.call(this)&&!this.isNullArea()},e.prototype.isNullArea=function(){return this.coords[0].x==this.coords[1].x||this.coords[0].y==this.coords[3].y},e.prototype.updateLastCoord=function(t){return this.coords[1].x=t.x,this.coords[2]=t,this.coords[3].y=t.y,this},e}(l),h=function(t){function e(e,n,r){void 0===n&&(n=""),void 0===r&&(r="");var o=t.call(this,"default",[],n,r)||this;return o.iMap=e,o.isDefault=!0,o}return i(e,t),e.prototype.isDrawable=function(){return!0},e.prototype.isOver=function(){return!0},e.prototype.display=function(t){t.rect(0,0,this.iMap.width-1,this.iMap.height-1)},e.prototype.svgArea=function(t){return'<rect x="0" y="0" width="100%" height="100%" />'},e}(s),d=function(){function t(t,e,n,r,o){void 0===n&&(n=[]),void 0===r&&(r=""),void 0===o&&(o=!1),this.width=t,this.height=e,this.areas=n,this.name=r,this.hasDefaultArea=o,this.dArea=new h(this),this.lastId=0}return t.prototype.setFromObject=function(t){var e=t;return e.dArea.iMap=this,this.width=e.width,this.height=e.height,this.areas=e.areas.map(s.fromObject),this.name=e.name,this.hasDefaultArea=e.hasDefaultArea,this.dArea=s.fromObject(e.dArea),this},t.prototype.setName=function(t){return t&&(this.name=t.replace(/\s+/g,"")),this},t.prototype.getName=function(){return this.name},t.prototype.setSize=function(t,e){return this.width=t,this.height=e,this},t.prototype.setDefaultArea=function(t){return this.hasDefaultArea=t,this},t.prototype.getAreas=function(t){void 0===t&&(t=!0);var e=this.areas.slice();return t&&this.hasDefaultArea&&e.push(this.dArea),e},t.prototype.isEmpty=function(){return 0==this.getAreas().length},t.prototype.addArea=function(t,e){return void 0===e&&(e=!0),e&&t.setId(this.getNewId()),this.areas.unshift(t),t.id},t.prototype.rmvArea=function(t){var e=this.areaIndex(t);return this.areas.splice(e,1),e},t.prototype.moveArea=function(t,e){var n=this.areaIndex(t),r=this.areas[n],o=n+e;return!(o<0||o>=this.areas.length)&&(this.rmvArea(t),this.insertArea(r,o),o)},t.prototype.shiftArea=function(){return this.areas.shift()},t.prototype.popArea=function(){return this.areas.pop()},t.prototype.insertArea=function(t,e){return this.areas.splice(e,0,t),this.areas.length},t.prototype.areaIndex=function(t){return this.areas.findIndex((function(e){return e.id==t}))},t.prototype.isFirstArea=function(t){return 0==this.areaIndex(t)},t.prototype.isLastArea=function(t){return this.areaIndex(t)==this.areas.length-1},t.prototype.getNewId=function(){return this.lastId++,this.lastId},t.prototype.toHtml=function(t){void 0===t&&(t=1);var e=[];return this.getAreas().forEach((function(n){n.isValidShape()&&e.push("\t"+n.toHtml(t))})),'<map name="'+this.name+'" id="'+this.name+'">\n'+e.join("\n")+"\n</map>"},t.prototype.toSvg=function(t){void 0===t&&(t=1);var e=[];this.getAreas(!1).forEach((function(n){n.isValidShape()&&e.push("\t"+n.toSvg(t))}));var n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+this.width+'" height="'+this.height+'">\n';return(n+=e.join("\n"))+"\n</svg>"},t.prototype.clearAreas=function(){return this.areas=[],this},t.prototype.setAreas=function(t){return this.areas=t,this},t}(),p=function(){function t(t,e,n,r){void 0===e&&(e=15),void 0===n&&(n=0),void 0===r&&(r=!1),this.iMap=t,this.speed=e,this.alpha=n,this.over=r}return t.prototype.appear=function(){this.over=!0},t.prototype.disappear=function(){this.over=!1},t.prototype.display=function(){this.over?this.alpha<100&&(this.alpha+=this.speed):this.alpha>0&&(this.alpha-=this.speed),this.iMap.p5.noStroke(),this.iMap.p5.fill(255,255,255,this.alpha),this.iMap.p5.rect(this.iMap.trueX(0),this.iMap.trueY(0),this.iMap.p5.width/this.iMap.view.scale,this.iMap.p5.height/this.iMap.view.scale)},t}(),f=function(){function t(){this.origin=new o,this.position=this.origin.clone(),this.areas=new Map,this.points=new Map}return t.prototype.resetOrigin=function(t){void 0===t&&(t=new o),this.origin=t.clone(),this.position=t,this.addPoint(t)},t.prototype.registerArea=function(t){this.areas.set(t.getId(),t)},t.prototype.addArea=function(t){var e=this;this.registerArea(t),t.getCoords().forEach((function(t){return e.addPoint(t)}))},t.prototype.addPoint=function(t){var e=this.points.get(t)||0;this.points.set(t,e+1)},t.prototype.containsArea=function(t){return this.areas.has(t.getId())},t.prototype.containsPoint=function(t){return this.points.has(t)},t.prototype.distToOrigin=function(){return this.getPosition().diff(this.origin)},t.prototype.clear=function(){this.areas.clear(),this.points.clear(),this.origin=new o},t.prototype.isEmpty=function(){return 0==this.points.size},t.prototype.move=function(t){this.points.forEach((function(e,n){n.move(t)}))},t.prototype.getPosition=function(){return this.position},t.prototype.setPosition=function(t){var e=t.diff(this.position);this.move(e)},t}(),g=n(729),v=n(307),m=n.n(v),b=n(363),y=n.n(b),w=n(226),x=n(379),A=n.n(x),_=n(795),k=n.n(_),C=n(569),S=n.n(C),E=n(565),L=n.n(E),M=n(216),T=n.n(M),O=n(589),B=n.n(O),j=n(281),I={};I.styleTagTransform=B(),I.setAttributes=L(),I.insert=S().bind(null,"head"),I.domAPI=k(),I.insertStyleElement=T(),A()(j.Z,I),j.Z&&j.Z.locals&&j.Z.locals;var N=n(320),D=(0,N.createWorker)({logger:function(t){return console.log(t)},langPath:"./"});function P(t,e){return n=this,r=void 0,i=function(){return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(n){switch(n.label){case 0:return D.__isinitialize?[3,4]:[4,D.load()];case 1:return n.sent(),[4,D.loadLanguage("eng+chi_sim")];case 2:return n.sent(),[4,D.initialize("chi_sim")];case 3:n.sent(),D.__isinitialize=!0,n.label=4;case 4:return[4,D.recognize(t,{rectangle:e})];case 5:return[2,n.sent().data.text]}}))},new((o=void 0)||(o=Promise))((function(t,e){function s(t){try{c(i.next(t))}catch(t){e(t)}}function a(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i}var z=n(147).i8,R=function(t,e){this.version=t,this.map=e},H=function(){function t(t,e,n){void 0===e&&(e=600),void 0===n&&(n=450);var r=this;this.menu={SetUrl:{onSelect:function(t,e,n,o){r.setAreaUrl(o)},label:"设置地址"},SetTitle:{onSelect:function(t,e,n,o){r.setAreaTitle(o)},label:"设置标题"},DeleteArea:{onSelect:function(t,e,n,o){r.deleteArea(o)},label:"删除区域"},OcrText:{onSelect:function(t,e,n,o){r.OcrText(o)},label:"识别文字"},MoveFront:{onSelect:function(t,e,n,o){r.moveArea(o,-1)},enabled:!0,label:"向前移动"},MoveBack:{onSelect:function(t,e,n,o){r.moveArea(o,1)},enabled:!0,label:"向后移动"}};var o=document.getElementById(t);if(!o)throw new Error("HTMLElement not found");this.width=e,this.height=n,this.tool="多边形",this.drawingTools=["矩形","圆形","多边形"],this.settings,this.tempArea=new a,this.selection=new f,this.hoveredArea=null,this.hoveredPoint=null,this.map=new d(e,n),this.undoManager=new(m()),this.img={data:null,file:null},this.view={scale:1,transX:0,transY:0},this.zoomParams={min:.03,max:3,sensativity:.001},this.magnetism=!0,this.fusion=!1,this.tolerance=6,this.bgLayer=new p(this),this.p5=new p5(this.sketch.bind(this),o)}return t.prototype.sketch=function(t){this.p5=t,t.setup=this.setup.bind(this),t.draw=this.draw.bind(this),t.mousePressed=this.mousePressed.bind(this),t.mouseDragged=this.mouseDragged.bind(this),t.mouseReleased=this.mouseReleased.bind(this),t.mouseWheel=this.mouseWheel.bind(this),t.keyPressed=this.keyPressed.bind(this)},t.prototype.setup=function(){var t=this;this.p5.createCanvas(this.width,this.height).drop(this.handeFile.bind(this)).dragLeave(this.onLeave.bind(this)).dragOver(this.onOver.bind(this)),this.settings=y().create(this.p5.width+5,0,"图片地图创建器",this.p5.canvas.parentElement).setDraggable(!1).addText("地图名称","",(function(e){t.map.setName(e)})).addDropDown("工具",["多边形","矩形","圆形","选择","删除","测试"],(function(e){t.setTool(e.value)})).addBoolean("默认区域",this.map.hasDefaultArea,(function(e){t.setDefaultArea(e)})).addButton("撤销",this.undoManager.undo).addButton("重做",this.undoManager.redo).addButton("清除",this.clearAreas.bind(this)).addButton("生成HTML",(function(){t.settings.setValue("输出",t.map.toHtml())})).addButton("生成SVG",(function(){t.settings.setValue("输出",t.map.toSvg())})).addTextArea("输出").addButton("保存",this.save.bind(this)),this.p5.canvas.addEventListener("contextmenu",(function(t){t.preventDefault()})),this.p5.canvas.addEventListener("mousedown",(function(t){t.preventDefault()})),document.getElementById("输出").setAttribute("onFocus","this.select();")},t.prototype.draw=function(){this.updateTempArea(),this.updateHovered(),this.setCursor(),this.setOutput(),this.setBackground(),this.setTitle(this.hoveredArea),this.p5.translate(this.view.transX,this.view.transY),this.p5.scale(this.view.scale),this.drawImage(),this.bgLayer.display(),this.drawAreas()},t.prototype.mousePressed=function(){if(this.mouseIsHoverSketch()){var t=this.drawingCoord();if(this.p5.mouseButton==this.p5.LEFT&&!w.isOpen())switch(this.tool){case"圆形":case"矩形":this.setTempArea(t);break;case"多边形":var e=this.tempArea;e.isEmpty()?this.setTempArea(t):e.isClosable(this.mCoord(),this.tolerance/this.view.scale)?(e.close(),e.isValidShape()&&this.createArea(e),this.tempArea=new a):this.tempArea.addCoord(this.mCoord());break;case"选择":null!==this.hoveredPoint?(this.selection.addPoint(this.hoveredPoint),this.selection.registerArea(this.hoveredArea),this.selection.resetOrigin(this.hoveredPoint)):null!==this.hoveredArea&&(this.selection.addArea(this.hoveredArea),this.selection.resetOrigin(this.mCoord()))}}},t.prototype.mouseDragged=function(){this.mouseIsHoverSketch()&&!w.isOpen()&&(this.p5.mouseButton==this.p5.LEFT?"选择"===this.tool&&this.selection.setPosition(this.drawingCoord()):this.p5.mouseButton==this.p5.CENTER&&(this.view.transX+=this.p5.mouseX-this.p5.pmouseX,this.view.transY+=this.p5.mouseY-this.p5.pmouseY))},t.prototype.mouseReleased=function(t){switch(this.tool){case"矩形":case"圆形":this.tempArea.isValidShape()&&this.createArea(this.tempArea),this.tempArea=new a;break;case"选择":var e=this.selection;if(!e.isEmpty()){var n=this.selection.distToOrigin();this.undoManager.add({undo:function(){return e.move(n.invert())},redo:function(){return e.move(n)}})}this.selection=new f}this.onClick(t),this.bgLayer.disappear()},t.prototype.mouseWheel=function(t){if(this.mouseIsHoverSketch()){var e=this.view.scale*this.zoomParams.sensativity*-t.deltaY;return this.zoom(e),!1}return!0},t.prototype.keyPressed=function(t){if(t.composed&&t.ctrlKey){switch(t.key){case"s":this.save();break;case"z":this.undoManager.undo();break;case"y":this.undoManager.redo();break;default:return!0}return!1}return"多边形"!=this.tool||t.keyCode!=this.p5.ESCAPE||(this.tempArea=new a,!1)},t.prototype.trueX=function(t){return(t-this.view.transX)/this.view.scale},t.prototype.trueY=function(t){return(t-this.view.transY)/this.view.scale},t.prototype.mX=function(){return this.trueX(this.p5.mouseX)},t.prototype.mY=function(){return this.trueY(this.p5.mouseY)},t.prototype.mCoord=function(){return new o(this.mX(),this.mY())},t.prototype.drawingCoord=function(){var t=this.mCoord();return t=this.magnetism&&this.hoveredPoint?this.hoveredPoint:t,this.fusion||(t=t.clone()),t},t.prototype.mouseIsHoverSketch=function(){return this.p5.mouseX<=this.p5.width&&this.p5.mouseX>=0&&this.p5.mouseY<=this.p5.height&&this.p5.mouseY>=0},t.prototype.updateHovered=function(){var t=this;this.hoveredPoint=null;var e=this.map.getAreas().find((function(e){if(t.selection.containsArea(e))return!1;if("测试"!=t.tool){var n=e.isOverPoint(t.mCoord(),t.tolerance/t.view.scale);if(n&&!t.selection.containsPoint(n))return t.hoveredPoint=n,!0}return!!e.isOver(t.mCoord())}));this.p5.mouseIsPressed||(this.hoveredArea=e||null)},t.prototype.onClick=function(t){if(this.mouseIsHoverSketch()&&this.hoveredArea)if(this.p5.mouseButton==this.p5.RIGHT)this.selection.addArea(this.hoveredArea),this.menu.MoveFront.enabled=!(this.map.isFirstArea(this.hoveredArea.id)||"default"==this.hoveredArea.getShape()),this.menu.MoveBack.enabled=!(this.map.isLastArea(this.hoveredArea.id)||"default"==this.hoveredArea.getShape()),w.display(t,this.menu,{position:"click",data:this.hoveredArea});else if(this.p5.mouseButton==this.p5.LEFT&&!w.isOpen())switch(this.tool){case"测试":e=this.hoveredArea.getHref(),void 0===n&&(n=400),void 0===r&&(r=300),window.open(e,"_blank","width=".concat(n,",height=").concat(r));break;case"删除":this.deleteArea(this.hoveredArea)}var e,n,r;this.selection.clear()},t.prototype.onOver=function(t){this.bgLayer.appear(),t.preventDefault()},t.prototype.onLeave=function(){this.bgLayer.disappear()},t.prototype.handeFile=function(t){var e=this;"image"==t.type?(this.img.data=this.p5.loadImage(t.data,(function(t){return e.resetView(t)})),this.img.file=t.file,this.map.getName()||(this.map.setName(t.name),this.settings.setValue("地图名称",this.map.getName()))):"json"==t.subtype&&fetch(t.data).then((function(t){return t.blob()})).then((function(t){var n=new FileReader;n.onload=function(){var t=n.result;"string"==typeof t&&e.importMap(t)},n.readAsText(t)})),this.bgLayer.disappear()},t.prototype.resetView=function(t){this.view.scale=1,this.view.transX=0,this.view.transY=0;var e=this.p5.width/t.width,n=this.p5.height/t.height;e<this.view.scale&&(this.view.scale=e),n<this.view.scale&&(this.view.scale=n),this.map.setSize(t.width,t.height)},t.prototype.zoom=function(t){var e=this.view.scale+t;if(e>this.zoomParams.min&&e<this.zoomParams.max){var n=this.mX()*t,r=this.mY()*t;this.view.scale=e,this.view.transX-=n,this.view.transY-=r}},t.prototype.drawImage=function(){this.img.data&&this.p5.image(this.img.data,0,0,this.img.data.width,this.img.data.height)},t.prototype.drawAreas=function(){for(var t=[this.tempArea].concat(this.map.getAreas()),e=t.length;e--;){var n=t[e];this.setAreaStyle(n),n.isDrawable()&&n.display(this.p5)}if(this.hoveredPoint){var r=this.hoveredPoint;this.p5.fill(0),this.p5.noStroke(),this.p5.ellipse(r.x,r.y,6/this.view.scale)}},t.prototype.setTool=function(t){this.tool=t,this.tempArea=new a},t.prototype.setCursor=function(){if(this.drawingTools.includes(this.tool))switch(this.tool){case"多边形":var t=this.tempArea;if(!t.isEmpty()&&t.isClosable(this.mCoord(),5/this.view.scale)){this.p5.cursor(this.p5.HAND);break}default:this.p5.cursor(this.p5.CROSS)}else if(this.p5.cursor(this.p5.ARROW),this.hoveredArea)switch(this.tool){case"测试":case"删除":this.p5.cursor(this.p5.HAND);break;case"选择":this.hoveredPoint||this.p5.cursor(this.p5.MOVE)}},t.prototype.setOutput=function(){switch(this.tool){case"测试":case"选择":if(this.mouseIsHoverSketch()){var t=this.hoveredArea?this.hoveredArea.getTitle():"none";this.settings.setValue("输出",t)}}},t.prototype.setBackground=function(){this.p5.background(200),this.img.data||(this.p5.noStroke(),this.p5.fill(0),this.p5.textAlign(this.p5.CENTER,this.p5.CENTER),this.p5.textSize(15),this.p5.text("拖拽图片或配置文件",this.p5.width/2,this.p5.height/2))},t.prototype.setTitle=function(t){"测试"==this.tool&&t&&t.getTitle()?this.p5.canvas.setAttribute("title",t.getTitle()):this.p5.canvas.removeAttribute("title")},t.prototype.setAreaStyle=function(t){var e=this.p5.color(255,255,255,178);"测试"==this.tool&&(e=this.p5.color(255,0)),(("删除"==this.tool||"选择"==this.tool)&&this.mouseIsHoverSketch()&&t==this.hoveredArea||this.selection.containsArea(t))&&(e=this.p5.color(255,200,200,178)),this.p5.fill(e),this.p5.strokeWeight(1/this.view.scale),"测试"==this.tool?this.p5.noStroke():this.p5.stroke(0)},t.prototype.setTempArea=function(t){var e=[t];switch(this.tool){case"矩形":this.tempArea=new u(e);break;case"圆形":this.tempArea=new c(e);break;case"多边形":this.tempArea=new l(e),this.tempArea.addCoord(t)}},t.prototype.updateTempArea=function(){var t=this.drawingCoord();this.tempArea.isEmpty()||this.tempArea.updateLastCoord(t)},t.prototype.exportMap=function(){return JSON.stringify(new R(z,this.map),(function(t,e){return e instanceof d&&!(this instanceof R)?e.getName():e}))},t.prototype.save=function(){var t=new Blob([this.exportMap()],{encoding:"UTF-8",type:"text/plain;charset=UTF-8"});g(t,"".concat(this.map.getName(),".map.json"),"application/json")},t.prototype.importMap=function(t){var e=JSON.parse(t).map;this.map.setFromObject(e),this.settings.setValue("地图名称",e.name),this.settings.setValue("默认区域",e.hasDefaultArea),this.reset()},t.prototype.createArea=function(t){var e=this;this.map.addArea(t),this.undoManager.add({undo:function(){return t=e.map.shiftArea()},redo:function(){return e.map.addArea(t,!1)}})},t.prototype.deleteArea=function(t){var e=this,n=t.id;if(0===n)this.settings.setValue("默认区域",!1);else{var r=this.map.rmvArea(n);this.undoManager.add({undo:function(){return e.map.insertArea(t,r)},redo:function(){return e.map.rmvArea(n)}})}},t.prototype.moveArea=function(t,e){var n=this;!1!==this.map.moveArea(t.id,e)&&this.undoManager.add({undo:function(){return n.map.moveArea(t.id,-e)},redo:function(){return n.map.moveArea(t.id,e)}})},t.prototype.OcrText=function(t){return e=this,n=void 0,o=function(){var e,n,r,o,i,s,a,c,l;return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(u){switch(u.label){case 0:for(this.settings.setValue("输出","开始识别，请稍后..."),e=t.copyCoords()[0],n=t.copyCoords()[0],r=0;r<t.copyCoords().length;r++)o=t.copyCoords()[r],e.x=Math.min(e.x,o.x),e.y=Math.min(e.y,o.y),n.x=Math.max(n.x,o.x),n.y=Math.max(n.y,o.y);return i=e.y,s=e.x,a=n.x-e.x,c=n.y-e.y,[4,P(this.img.file,{top:i,left:s,width:a,height:c})];case 1:return l=u.sent(),this.settings.setValue("输出",l.split(" ").join("")),[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.setAreaUrl=function(t){var e=t.getHref(),n=prompt("请输入选中区域的地址",e||"http://");n&&(t.setHref(n),this.undoManager.add({undo:function(){return t.setHref(e)},redo:function(){return t.setHref(n)}}))},t.prototype.setAreaTitle=function(t){var e=t.getTitle(),n=prompt("请输入选中区域的标题",e||"");n&&(t.setTitle(n),this.undoManager.add({undo:function(){return t.setTitle(e)},redo:function(){return t.setTitle(n)}}))},t.prototype.setDefaultArea=function(t){var e=this;this.map.setDefaultArea(t),this.undoManager.add({undo:function(){e.map.setDefaultArea(!t),e.settings.setValue("默认区域",!t)},redo:function(){e.map.setDefaultArea(t),e.settings.setValue("默认区域",t)}})},t.prototype.clearAreas=function(){var t=this,e=this.map.getAreas(!1);this.map.clearAreas(),this.undoManager.add({undo:function(){return t.map.setAreas(e)},redo:function(){return t.map.clearAreas()}})},t.prototype.reset=function(){this.undoManager.clear()},t}()})(),r})()));
//# sourceMappingURL=image-map-creator.bundle.js.map